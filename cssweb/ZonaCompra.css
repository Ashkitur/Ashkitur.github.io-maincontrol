/* Base tarjetas */
.formulario-tarjeta,
.tarjeta-resumen {
  background:#39332f;
  border-radius:30px;
  color:#fff;
  box-shadow:0 8px 25px rgba(0,0,0,.15);
  padding:32px 28px;
  width:100%;
}

@media (max-width: 576px){
  .formulario-tarjeta,
  .tarjeta-resumen {
    border-radius:20px;
    padding:24px 20px;
  }
}

/* Métodos */
.metodos-pago {
  display:flex;
  flex-wrap:wrap;
  gap:18px;
  margin-bottom:20px;
  padding:0;
  border:0;
}

.opcion-pago {
  position:relative;
  cursor:pointer;
  flex:1 1 180px;
  min-width:170px;
  margin:0;
}

.opcion-pago input {
  position:absolute;
  inset:0;
  opacity:0;
  cursor:pointer;
}

.contenido-opcion {
  display:flex;
  align-items:center;
  gap:10px;
  background:#fff;
  padding:12px 16px 12px 52px;
  border-radius:14px;
  color:#222;
  font-weight:600;
  font-size:.9rem;
  box-shadow:0 2px 8px rgba(0,0,0,.07);
  transition:.25s;
  position:relative;
}

.contenido-opcion::before {
  content:"";
  position:absolute;
  left:16px;
  top:50%;
  width:20px;
  height:20px;
  border:2px solid #ff6600;
  border-radius:50%;
  transform:translateY(-50%);
  background:#fff;
  transition:.25s;
}

.opcion-pago input:checked + .contenido-opcion::before {
  background:#ff6600;
  box-shadow:0 0 0 4px rgba(255,102,0,.25) inset;
}

.opcion-pago input:checked + .contenido-opcion,
.opcion-pago:hover .contenido-opcion {
  box-shadow:0 4px 16px rgba(255,102,0,.18);
  transform:translateY(-2px);
}

.iconos-pago {
  display:flex;
  gap:6px;
  font-size:1.5rem;
}

.iconos-pago i { color:#333; }
.opcion-pago input:checked + .contenido-opcion .iconos-pago i { color:#ff6600; }

@media (max-width: 680px){
  .opcion-pago { flex:1 1 100%; }
  .contenido-opcion { padding:14px 16px 14px 52px; }
}

/* Inputs */
.campo-formulario {
  background:#5a5754;
  border:none;
  border-radius:10px;
  color:#fff;
  padding:14px 18px;
  font-size:1rem;
}

.campo-formulario:focus {
  background:#6d6863;
  box-shadow:0 0 0 .2rem rgba(255,102,0,.35);
  outline:none;
}

.campo-formulario::placeholder { color:#bbb; }

.etiqueta-formulario {
  font-weight:600;
  font-size:.95rem;
  margin-bottom:6px;
  display:block;
}

.formulario-pago { display:none; }
.formulario-pago.activo { display:block; animation:fade .35s ease; }

@keyframes fade {
  from {opacity:0; transform:translateY(6px);}
  to {opacity:1; transform:translateY(0);}
}

/* Resumen */
.tarjeta-resumen h5 {
  font-weight:700;
  margin-bottom:20px;
  font-size:1.2rem;
}

.item-resumen {
  display:flex;
  justify-content:space-between;
  border-bottom:1px solid #555;
  padding:10px 0;
  font-size:.95rem;
}

.item-resumen.total {
  border:none;
  font-weight:700;
  font-size:1.05rem;
  margin-top:8px;
}

.titulo-resumen { color:#ccc; }
.valor-resumen { color:#fff; }


.boton-pagar {
  background:#ff6600;
  border:none;
  border-radius:12px;
  padding:12px 40px;
  color:#fff;
  font-weight:600;
  font-size:1rem;
  transition:.25s;
}

.boton-pagar:hover {
  background:#df6011;
  transform:translateY(-2px);
  box-shadow:0 8px 25px rgba(255,102,0,.3);
}

.boton-pagar:active { transform:translateY(0); }

@media (max-width:576px){
  .boton-pagar {
    width:100%;
    display:block;
  }
}

html {
  font-size: 100%;
}
body {
  font-size: clamp(.92rem, .35vw + .75rem, 1rem);
  line-height: 1.35;
  -webkit-font-smoothing: antialiased;
}


h1, .h1 { font-size: clamp(1.9rem, 3.6vw, 2.5rem); }
h2, .h2 { font-size: clamp(1.4rem, 2.4vw, 1.9rem); }
h3, .h3 { font-size: clamp(1.15rem, 1.9vw, 1.4rem); }
h5, .h5, .tarjeta-resumen h5 { font-size: clamp(1.05rem, 1.4vw, 1.2rem); }


.main-compra .container,
main .container {
  max-width: 1240px;
  margin-inline: auto;
  padding-inline: clamp(1rem, 2.2vw, 2.25rem);
}

@media (max-width: 576px) {
  .main-compra .container,
  main .container {
    padding-inline: 1rem;
  }
}

.compra-grid {
  display: grid;
  gap: clamp(1.4rem, 2.2vw, 2.2rem);
}

@media (min-width: 992px) {
  .compra-grid {
    grid-template-columns: minmax(0, 1fr) 350px;
    align-items: start;
  }
  #detalle-factura-container { order: 1; }
  .tarjeta-resumen {
    order: 2;
    position: sticky;
    top: 1.2rem;
  }
}


.tabla-factura {
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  font-size:.85rem;
  color:#fff;
}

.tabla-factura thead th {
  background:#4d4642;
  color:#eee;
  font-size:.65rem;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:600;
  padding:.75rem .75rem;
  border-bottom:2px solid #ff6600;
  white-space:nowrap;
}

.tabla-factura tbody td {
  background:white;
  border-bottom:1px solid #5d544f;
  padding:.65rem .75rem;
  vertical-align:middle;
  font-size:.8rem;
}

.tabla-factura tbody tr:nth-child(even) td {
  background: white;
}

.tabla-factura tbody tr:hover td {
  background:white;
}

.tabla-factura tbody tr:last-child td {
  border-bottom:none;
}


@media (max-width: 640px) {
  .tabla-factura thead {
    display:none;
  }
  .tabla-factura,
  .tabla-factura tbody,
  .tabla-factura tr,
  .tabla-factura td {
    display:block;
    width:100%;
  }
  .tabla-factura tbody tr {
    background:linear-gradient(145deg,#4a4440,#3e3834);
    border:1px solid rgba(255,255,255,.12);
    border-radius:16px;
    padding:.6rem .9rem .55rem;
    margin-bottom:.9rem;
    box-shadow:0 6px 16px -6px rgba(0,0,0,.45);
  }
  .tabla-factura tbody tr:last-child {
    margin-bottom:0;
  }
  .tabla-factura tbody td {
    border:none;
    background:none;
    padding:.4rem 0;
    display:flex;
    gap:.75rem;
    font-size:.78rem;
  }
  .tabla-factura tbody td::before {
    content:"";
    flex:0 0 90px;
    font-size:.6rem;
    text-transform:uppercase;
    letter-spacing:.55px;
    font-weight:600;
    color:#f3f3f3;
    opacity:.75;
  }
  .tabla-factura tbody td:nth-child(1)::before { content:var(--col1,"Nombre"); }
  .tabla-factura tbody td:nth-child(2)::before { content:var(--col2,"Cantidad"); }
  .tabla-factura tbody td:nth-child(3)::before { content:var(--col3,"Precio"); }
  .tabla-factura tbody td:nth-child(4)::before { content:var(--col4,"Subtotal"); }

  /* Ajustar miniatura si la agregaste en primera celda */
  .tabla-factura tbody td img {
    width:54px;
    height:54px;
    border-radius:10px;
    object-fit:cover;
  }
}

/* ---------- Miniatura (si se usa en la factura adaptada) ---------- */
.factura-thumb {
  width:44px;
  height:44px;
  object-fit:cover;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.25);
  background:#2d2a28;
  flex-shrink:0;
}




.badge-metodo {
  background:rgba(255,102,0,.18);
  color:#ff8a33;
  padding:2px 10px;
  border-radius:50px;
  font-size:.65rem;
  letter-spacing:.5px;
  font-weight:600;
}


.boton-pagar,
.btn-recibir-codigo {
  background:linear-gradient(135deg,#ff6600,#ff7f2b 90%);
  border:none;
  border-radius:14px;
  padding:13px 44px;
  color:#fff;
  font-weight:600;
  font-size:1rem;
  letter-spacing:.5px;
  box-shadow:0 6px 22px -6px rgba(255,102,0,.5), 0 3px 10px -4px rgba(255,102,0,.45);
  transition:.35s;
  position:relative;
  overflow:hidden;
}

.boton-pagar:hover,
.btn-recibir-codigo:hover {
  background:linear-gradient(135deg,#ff7a1f,#ff6600 85%);
  transform:translateY(-3px);
  box-shadow:0 10px 28px -10px rgba(255,102,0,.6), 0 6px 12px -6px rgba(255,102,0,.5);
}

.boton-pagar:active,
.btn-recibir-codigo:active {
  transform:translateY(0);
  filter:brightness(.95);
}

.boton-pagar:focus-visible,
.btn-recibir-codigo:focus-visible {
  outline:2px solid #ffb678;
  outline-offset:3px;
}

@media (max-width: 576px) {
  .boton-pagar,
  .btn-recibir-codigo {
    width:100%;
    display:block;
    padding:14px 1.25rem;
  }
}

#codigos-wrapper {
  background:#39332f;
  border-radius:30px;
  color:#fff;
  box-shadow:0 8px 25px rgba(0,0,0,.15);
  padding:32px 28px;
}

@media (max-width: 576px){
  #codigos-wrapper {
    border-radius:20px;
    padding:24px 20px;
  }
}

.lista-codigos {
  list-style:none;
  margin:0;
  padding:0;
  display:grid;
  gap:14px;
}

.codigo-item {
  background:#4d4642;
  border:1px solid rgba(255,255,255,.12);
  border-radius:18px;
  padding:14px 16px;
  display:flex;
  flex-direction:column;
  gap:6px;
  box-shadow:0 5px 18px -8px rgba(0,0,0,.55);
  position:relative;
  transition:.3s;
}

.codigo-item:hover {
  background:#554d49;
  transform:translateY(-3px);
  box-shadow:0 10px 28px -12px rgba(0,0,0,.6);
}

.nombre-juego {
  font-weight:600;
  font-size:.9rem;
  letter-spacing:.35px;
  color:#f3f3f3;
  display:flex;
  align-items:center;
  gap:8px;
  word-break:break-word;
}

.codigo-box {
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:stretch;
}

.codigo {
  font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  background:linear-gradient(145deg,#fff,#f4f4f4);
  color:#222;
  padding:8px 14px;
  font-size:.95rem;
  font-weight:600;
  border-radius:12px;
  letter-spacing:1px;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.08), 0 3px 6px -3px rgba(0,0,0,.4);
  user-select:all;
  min-width:170px;
  text-align:center;
  position:relative;
}

.btn-copiar {
  background:linear-gradient(135deg,#ff6600,#ff7f2b 85%);
  border:none;
  color:#fff;
  font-weight:600;
  font-size:.7rem;
  padding:8px 14px;
  border-radius:10px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
  box-shadow:0 4px 14px -5px rgba(255,102,0,.5);
  letter-spacing:.5px;
  transition:.28s;
}

.btn-copiar:hover {
  filter:brightness(1.05);
  transform:translateY(-2px);
}

.btn-copiar:active {
  transform:translateY(0);
  filter:brightness(.9);
}

.btn-copiar.copiado {
  background:#1d9e50;
  box-shadow:0 4px 14px -5px rgba(29,158,80,.55);
}

.badges {
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-top:2px;
}

.badge-mini {
  background:rgba(255,255,255,.11);
  color:#ffb17a;
  padding:2px 10px 3px;
  font-size:.55rem;
  letter-spacing:.65px;
  border-radius:50px;
  font-weight:600;
  text-transform:uppercase;
}

.btn-codigos {
  background:linear-gradient(135deg,#ff6600,#ff7f2b 85%);
  color:#fff;
  font-size:.65rem;
  font-weight:600;
  letter-spacing:.5px;
  border:none;
  padding:8px 16px;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 5px 14px -6px rgba(255,102,0,.55);
  transition:.3s;
  text-transform:uppercase;
}

.btn-codigos:hover:enabled {
  transform:translateY(-2px);
  background:linear-gradient(135deg,#ff7a1f,#ff6600 85%);
}

.btn-codigos:disabled {
  opacity:.45;
  cursor:not-allowed;
}

.btn-codigos.secundario {
  background:linear-gradient(135deg,#666,#575757);
  box-shadow:0 4px 12px -6px rgba(0,0,0,.5);
}

.btn-codigos.secundario:hover:enabled {
  background:linear-gradient(135deg,#777,#5d5d5d);
}

.nota-codigos {
  opacity:.65;
  line-height:1.3;
}

@media (min-width:660px){
  .lista-codigos {
    grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
  }
}

@media (max-width:576px){
  .codigo {
    flex:1 1 100%;
  }
  .codigo-box {
    flex-direction:column;
    align-items:stretch;
  }
  .btn-copiar {
    justify-content:center;
  }
}

/* Estado / mensajes */
#estado-codigos {
  min-height:18px;
}

/* Transiciones de aparición */
#codigos-wrapper.animar {
  animation:fadeInUp .45s ease;
}

@keyframes fadeInUp {
  from {opacity:0; transform:translateY(10px);}
  to {opacity:1; transform:translateY(0);}
}

